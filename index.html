<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weldon Law, LLC | Guardianship, Estate & Elder Law in New Jersey</title>
  <meta name="description" content="Weldon Law, LLC provides experienced, compassionate counsel in guardianship, estate planning, probate, and long-term care planning throughout New Jersey." />
  
  <!-- Enhanced SEO Meta Tags -->
  <meta property="og:title" content="Weldon Law, LLC | Guardianship, Estate & Elder Law in New Jersey" />
  <meta property="og:description" content="Experienced, compassionate counsel in guardianship, estate planning, probate, and long-term care planning throughout New Jersey." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://weldon.law/" />
  <meta property="og:image" content="https://weldon.law/images/og-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Weldon Law, LLC | Elder Law Attorney in New Jersey" />
  <meta name="twitter:description" content="Expert guidance in guardianship, estate planning, and elder law matters." />
  
  <!-- Local Business Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LegalService",
    "name": "Weldon Law, LLC",
    "description": "Experienced elder law attorney providing guardianship, estate planning, probate, and long-term care planning services in New Jersey.",
    "url": "https://weldon.law",
    "telephone": "+1-856-890-2944",
    "email": "chris@weldon.law",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Voorhees",
      "addressRegion": "NJ",
      "addressCountry": "US"
    },
    "areaServed": { "@type": "State", "name": "New Jersey" },
    "serviceType": ["Guardianship", "Estate Planning", "Probate", "Long-Term Care Planning"],
    "founder": {
      "@type": "Person",
      "name": "Christopher R. Weldon",
      "jobTitle": "Attorney",
      "description": "Experienced elder law attorney and former State Regulatory Attorney with over 1,000 guardianship and fiduciary matters handled."
    }
  }
  </script>

  <link rel="stylesheet" href="branded-styles.css" />
  <link rel="preload" href="images/WeldonLawLogoG.png" as="image" />

  <script>
    /* if you proxy the intake endpoint on your server, set it here (optional) */
    window.INTAKE_PROXY = '/api/intake';
    // window.INTAKE_SECRET = 'your-short-shared-secret';
  </script>
</head>

<body class="hero--copy">

  <!-- Top utility CTA bar -->
  <section class="top-cta" role="region" aria-label="Quick contact">
    <div class="container top-cta__inner">
      <div class="top-cta__prompt">
        <strong>Have a question?</strong> Start here and hear back fast.
      </div>
      <div class="top-cta__actions">
        <a href="#" id="ctaGetHelp" class="btn btn--outline" role="button">Submit Inquiry →</a>
        <a class="btn btn--phone" href="tel:+18568902944" aria-label="Call Weldon Law at (856) 890-2944">
          (856) 890-2944
        </a>
      </div>
    </div>
  </section>

  <!-- Main site header -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html">
          <img src="images/WeldonLawLogoG.png" as="image" />
        </a>
      </div>
      <nav class="main-nav" id="nav">
        <button class="menu-toggle" aria-controls="primary-navigation" aria-expanded="false" aria-label="Toggle menu">☰</button>
        <ul class="navbar" id="primary-navigation">
          <li><a href="index.html" aria-current="page">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li class="dropdown">
            <a href="#" aria-haspopup="true" aria-expanded="false">Areas of Practice</a>
            <ul class="dropdown-content">
              <li><a href="practice-guardianships.html">Guardianships</a></li>
              <li><a href="practice-ltc.html">Long-Term Care Planning</a></li>
              <li><a href="practice-lp.html">Life Planning (POA/Advance Directive)</a></li>
              <li><a href="practice-legacy.html">Legacy Planning (Wills & Trusts)</a></li>
              <li><a href="practice-probate.html">Probate</a></li>
              <li><a href="practice-general.html">General Counsel & Other Matters</a></li>
            </ul>
          </li>
          <li><a href="news.html">News & Resources</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Sticky Intake (mobile: bottom CTA + sheet) -->
  <section class="intake-stick" role="complementary" aria-label="Quick intake">
    <!-- Mobile bottom sticky CTA -->
    <div class="intake-stick__mobilebar" aria-hidden="false">
      <a href="#intakeSheet" class="intake-stick__cta" id="openIntakeMobile" role="button" aria-controls="intakeSheet" aria-expanded="false">
        Get help now →
      </a>
    </div>

    <!-- Mobile slide-up sheet -->
    <div class="intake-sheet" id="intakeSheet" aria-hidden="true" aria-modal="true" role="dialog" aria-label="Intake form">
      <div class="intake-sheet__panel" role="document">
        <button class="intake-sheet__close" id="closeIntakeMobile" aria-label="Close">✕</button>

        <h2>How can we help?</h2>
        <form id="intakeFormStickyMobile" novalidate>
          <input type="hidden" name="siteKey" value="WL5616!SecureKey" />
          <input type="text" name="company" class="visually-hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />

          <div class="intake-form__row intake-form__row--split">
            <div class="form-field">
              <label for="sm-first-name">First name*</label>
              <input id="sm-first-name" name="first-name" autocomplete="given-name" required />
              <div class="field-error" role="alert" aria-live="polite"></div>
            </div>
            <div class="form-field">
              <label for="sm-last-name">Last name*</label>
              <input id="sm-last-name" name="last-name" autocomplete="family-name" required />
              <div class="field-error" role="alert" aria-live="polite"></div>
            </div>
          </div>

          <div class="form-field">
            <label for="sm-email">Email*</label>
            <input id="sm-email" name="email" type="email" autocomplete="email" required />
            <div class="field-error" role="alert" aria-live="polite"></div>
          </div>

          <div class="form-field">
            <label for="sm-phone">Phone</label>
            <input id="sm-phone" name="phone" type="tel" inputmode="tel" autocomplete="tel-national" />
            <div class="field-error" role="alert" aria-live="polite"></div>
          </div>

          <div class="form-field">
            <label for="sm-interest">Type of matter</label>
            <select id="sm-interest" name="interest">
              <option value="">-- Please Select --</option>
              <option value="guardianship">Guardianship</option>
              <option value="ltc">Long-Term Care Planning</option>
              <option value="estate">Estate Planning</option>
              <option value="probate">Probate</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-field">
            <label for="sm-message">Brief summary</label>
            <textarea id="sm-message" name="message" rows="5" placeholder="Please describe your situation briefly..."></textarea>
          </div>

          <button type="submit">
            <span class="btn-text">Submit</span>
            <span class="btn-loading hidden" aria-hidden="true">Sending...</span>
          </button>
          <div class="small-subtext">We'll reply promptly. No obligation.</div>
          <div class="intake-form__meta">
            <a href="/privacy.html">Privacy + terms</a>
            <span class="form-help">Submitting this form does not create an attorney–client relationship. Please avoid confidential details.</span>
          </div>
          <div id="sm-status" class="success-inline hidden" role="status" aria-live="polite"></div>
          <div id="sm-error" class="error-inline hidden" role="alert"></div>
        </form>
      </div>
    </div>
  </section>

  <main id="main-content">
    <!-- HERO / INTRO (rotating messages) -->
<section class="intro-banner">
  <div class="container hero-rotator" aria-live="polite">
    <h1 class="hero-line"></h1>
    <p class="hero-sub"></p>

    <!-- Message data lives here so content is visible in source for SEO -->
    <template id="heroMessages">
      <div data-h1="Compassionate, precise elder law counsel—rooted in your community"
           data-sub="Every matter is approached with the care it deserves, regardless of asset level or complexity."></div>

      <div data-h1="Life vs. Legacy"
           data-sub="Take control now—not from the grave."></div>

      <div data-h1="Protecting dignity. Preserving independence."
           data-sub="Guidance in guardianship, planning, and care when it matters most."></div>
    </template>
  </div>
</section>

    <!-- PRACTICE AREAS (6 tiles) -->
    <section class="container" style="padding: var(--space-6) 0;">
      <h2>Areas of Practice</h2>
      <div class="practice-areas">
        
        <div class="practice-area" style="--pa-bg:url('images/pa-life.jpg')">
          <h3><a href="practice-lp.html">Life Planning (POA/Advance Directive)</a></h3>
          <p>Planning for in-life decision-making and authority if you can’t act.</p>
        </div>

        <div class="practice-area" style="--pa-bg:url('images/pa-guardianships.jpg')">
          <h3><a href="practice-guardianships.html">Guardianships</a></h3>
          <p>Establishing and administering guardianships with diligence and care.</p>
        </div>

        <div class="practice-area" style="--pa-bg:url('images/pa-ltc.jpg')">
          <h3><a href="practice-ltc.html">Long-Term Care Planning</a></h3>
          <p>Protecting assets while aligning care needs and benefits.</p>
        </div>
        
        <div class="practice-area" style="--pa-bg:url('images/pa-legacy.jpg')">
          <h3><a href="practice-legacy.html">Legacy Planning (Wills & Trusts)</a></h3>
          <p>Directing your estate and preserving your intent for loved ones.</p>
        </div>

        <div class="practice-area" style="--pa-bg:url('images/pa-probate.jpg')">
          <h3><a href="practice-probate.html">Probate</a></h3>
          <p>Guidance through estate administration and court procedures.</p>
        </div>

        <div class="practice-area" style="--pa-bg:url('images/pa-general.jpg')">
          <h3><a href="practice-general.html">General Counsel & Other Matters</a></h3>
          <p>Related elder-law and fiduciary issues tailored to your situation.</p>
        </div>
      </div>
    </section>

    <!-- BIO -->
    <section class="container bio-section" style="padding: var(--space-5) 0;">
      <div class="about-snippet">
        <img src="images/christopher-weldon-headshot2.jpg" alt="Portrait of Christopher R. Weldon, Esquire, elder law attorney" class="bio-image" width="120" height="150" loading="lazy" />
<p>
Christopher R. Weldon, Esquire&mdash;founder of Weldon Law&mdash;has dedicated his legal career to advocating for vulnerable individuals and those who support them. He focuses on guardianship; life & legacy planning;  long-term care preparation; probate matters; and other related elder law issues.*
</p>
<p>
With more than a decade of elder law experience and involvement in over 1,000 guardianship and fiduciary matters, Chris is recognized for his compassionate approach and commitment to resolving conflict efficiently. His background includes service as a State Regulatory Attorney with the New Jersey Office of the Public Guardian, legislative advocacy to improve elder care and guardianship laws, and presentations to judicial and professional audiences.
</p>
<p
 href="about.html">Learn more →</a>
</p>
</section>

    <!-- TRUST / QUICK FACTS -->
    <section class="container" style="padding: var(--space-6) 0;">
      <div class="info-grid" style="padding: 0;">
        <div>
          <h2>Why families choose Weldon Law</h2>
          <ul class="services-list">
            <li><strong>1,000+ guardianship/fiduciary matters</strong> handled across NJ courts</li>
            <li><strong>Transparent process</strong> and timely communication</li>
            <li><strong>Neighborly, steady counsel</strong> when decisions feel overwhelming</li>
          </ul>
        </div>
        <div>
          <h2>How we work</h2>
          <ol class="services-list">
            <li><strong>Start here:</strong> Send a short intake (mobile sheet or “Get help now →”)</li>
            <li><strong>You will hear back quickly</strong> with next steps and a short call</li>
            <li><strong>Clear plan</strong> for your matter and timelines</li>
          </ol>
        </div>
      </div>
    </section>

    <!-- FAQ + RESOURCES -->
    <section class="container" style="padding: var(--space-6) 0;">
      <div class="info-grid" style="padding: 0;">
        <div class="faq-content">
          <h2>Frequently Asked Questions</h2>
          <div class="faq-list">
            <details>
              <summary>Do I need an attorney for a guardianship?</summary>
              <p>It depends. The process involves court filings, medical certifications, and hearings.  Together we will map the steps and timeline.</p>
            </details>
            <details>
              <summary>How fast can we start?</summary>
              <p>After you send the intake, we typically respond the same day or next business day with next steps.</p>
            </details>
            <details>
              <summary>Is the first message confidential?</summary>
              <p>Submitting the form does not create an attorney–client relationship. Please avoid sharing sensitive details initially; you will be advised if anything further is needed.</p>
            </details>
          </div>
        </div>
        <div class="firm-services">
          <h2>Resources</h2>
          <ul class="services-list">
            <li><a href="news.html">News &amp; Guides</a></li>
            <li><a href="contact.html">Office &amp; Hours</a></li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 Weldon Law, LLC. All rights reserved.</p>
    </div>
  </footer>

  <!-- Desktop Fixed Footer Intake (desktop only) -->
  <section class="intake-footer" role="complementary" aria-label="Quick intake footer">
    <form id="intakeFormFooterDesktop" class="intake-footer__form" novalidate>
      <input type="hidden" name="siteKey" value="WL5616!SecureKey" />
      <input type="text" name="company" class="visually-hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />

      <div class="intake-footer__row">
        <label class="vf">
          <span class="vh">Last name</span>
          <input id="ft-last-name" name="last-name" placeholder="Last name" required />
        </label>
        <label class="vf">
          <span class="vh">First name</span>
          <input id="ft-first-name" name="first-name" placeholder="First name" required />
        </label>
        <label class="vf">
          <span class="vh">Email</span>
          <input id="ft-email" name="email" type="email" placeholder="Email" required />
        </label>
        <label class="vf">
          <span class="vh">Phone</span>
          <input id="ft-phone" name="phone" type="tel" inputmode="tel" placeholder="Phone" />
        </label>
        <label class="vf">
          <span class="vh">Type of matter</span>
          <select id="ft-interest" name="interest" aria-label="Type of matter">
            <option value="">Matter type</option>
            <option value="guardianship">Guardianship</option>
            <option value="ltc">Long-Term Care Planning</option>
            <option value="estate">Estate Planning</option>
            <option value="probate">Probate</option>
            <option value="other">Other</option>
          </select>
        </label>

        <button type="submit" class="intake-footer__submit" aria-label="Submit intake">
          <span class="btn-text">Submit</span>
          <span class="btn-loading hidden" aria-hidden="true">Sending...</span>
        </button>
      </div>

      <div id="intakeFooterPanel" class="intake-footer__statusline" aria-live="polite">
        <span id="ft-status" class="success-inline hidden"></span>
        <span id="ft-error" class="error-inline hidden" role="alert"></span>
        <span class="small-subtext">We'll reply promptly. No obligation.</span>
      </div>
    </form>
  </section>

  <!-- === Full JavaScript (restores all functionality) === -->
  <script>
  /* ===== Config ===== */
  const FLOW_URL = "https://prod-121.westus.logic.azure.com:443/workflows/2fd109379c324cd5bbab1546b34dca3c/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=GH5F3oVR83EzQ2fzn0l0yUzqs9bmVpHFZP0D0lJgBV8";

  /* ===== Enhanced Error Messages ===== */
  const errorMessages = {
    'first-name': 'Please enter your first name',
    'last-name': 'Please enter your last name',
    'email': 'Please enter a valid email address',
    'phone': 'Please enter a valid phone number'
  };

  /* ===== Menu toggle ===== */
  (function(){
    const toggle = document.querySelector('.menu-toggle');
    const navList = document.getElementById('primary-navigation');
    if (toggle && navList) {
      toggle.addEventListener('click', () => {
        const isOpen = navList.classList.toggle('open');
        toggle.setAttribute('aria-expanded', isOpen);
      });
    }
  })();

  /* ===== Utilities ===== */
  const qs = (s, r=document) => r.querySelector(s);
  const qsa = (s, r=document) => Array.from(r.querySelectorAll(s));
  
  function digitsOnly(s) { return (s || '').replace(/[^\d]/g, ''); }
  function trimLeadingOne(d) { return (d.length === 11 && d.startsWith('1')) ? d.slice(1) : d; }
  
  function formatPhoneLive(el) {
    if (!el) return;
    el.addEventListener('input', () => {
      let d = trimLeadingOne(digitsOnly(el.value));
      if (!d) { el.value = ''; return; }
      if (d.length <= 3) el.value = `(${d}`;
      else if (d.length <= 6) el.value = `(${d.slice(0,3)}) ${d.slice(3)}`;
      else el.value = `(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6,10)}`;
    });
  }

  function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  /* ===== Enhanced Form Validation ===== */
  function validateField(field) {
    const fieldContainer = field.closest('.form-field');
    const errorDiv = fieldContainer?.querySelector('.field-error');
    const fieldName = field.name;
    let isValid = true;
    let errorMessage = '';

    // Clear previous state
    field.removeAttribute('aria-invalid');
    if (fieldContainer) fieldContainer.classList.remove('valid', 'error');
    if (errorDiv) errorDiv.textContent = '';

    // Required field validation
    if (field.hasAttribute('required') && !field.value.trim()) {
      isValid = false;
      errorMessage = errorMessages[fieldName] || 'This field is required';
    } 
    // Email validation
    else if (field.type === 'email' && field.value && !isValidEmail(field.value)) {
      isValid = false;
      errorMessage = 'Please enter a valid email address';
    }
    // Phone validation (if provided)
    else if (field.type === 'tel' && field.value && digitsOnly(field.value).length < 10) {
      isValid = false;
      errorMessage = 'Please enter a valid phone number';
    }

    // Apply validation state
    if (!isValid) {
      field.setAttribute('aria-invalid', 'true');
      if (fieldContainer) fieldContainer.classList.add('error');
      if (errorDiv) errorDiv.textContent = errorMessage;
    } else if (field.value.trim()) {
      if (fieldContainer) fieldContainer.classList.add('valid');
    }

    return isValid;
  }

  function validateForm(form) {
    const fields = form.querySelectorAll('input[required], input[type="email"], input[type="tel"]');
    let isValid = true;
    fields.forEach(field => { if (!validateField(field)) isValid = false; });
    return isValid;
  }

  /* ===== Real-time Validation Setup ===== */
  function setupFormValidation(form) {
    if (!form) return;
    const fields = form.querySelectorAll('input, select, textarea');
    fields.forEach(field => {
      field.addEventListener('blur', () => validateField(field));
      field.addEventListener('input', () => {
        const fieldContainer = field.closest('.form-field');
        if (fieldContainer?.classList.contains('error')) {
          setTimeout(() => validateField(field), 300);
        }
      });
    });
  }

  /* ===== Loading Button States ===== */
  function setButtonLoading(button, loading) {
    const textSpan = button.querySelector('.btn-text');
    const loadingSpan = button.querySelector('.btn-loading');
    if (loading) {
      button.disabled = true;
      if (textSpan) textSpan.classList.add('hidden');
      if (loadingSpan) loadingSpan.classList.remove('hidden');
    } else {
      button.disabled = false;
      if (textSpan) textSpan.classList.remove('hidden');
      if (loadingSpan) loadingSpan.classList.add('hidden');
    }
  }

  /* ===== Mobile Sheet Behavior ===== */
  const sheet = qs('#intakeSheet');
  const openMobile = qs('#openIntakeMobile');
  const closeMobile = qs('#closeIntakeMobile');

  function trapFocus(container, enabled) {
    if (!container) return;
    const focusable = () => container.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])');
    function onKey(e) {
      if (!enabled) return;
      if (e.key === 'Escape') { closeMobileSheet(); return; }
      if (e.key !== 'Tab') return;
      const nodes = Array.from(focusable()).filter(n => !n.disabled && n.offsetParent !== null);
      if (!nodes.length) return;
      const first = nodes[0], last = nodes[nodes.length-1];
      if (e.shiftKey && document.activeElement === first) { last.focus(); e.preventDefault(); }
      else if (!e.shiftKey && document.activeElement === last) { first.focus(); e.preventDefault(); }
    }
    if (container.__trapHandler) document.removeEventListener('keydown', container.__trapHandler);
    container.__trapHandler = onKey;
    document.addEventListener('keydown', onKey);
  }

  function openMobileSheet() {
    if (!sheet) return;
    sheet.setAttribute('aria-hidden', 'false');
    if (openMobile) openMobile.setAttribute('aria-expanded', 'true');
    document.body.style.overflow = 'hidden';
    setTimeout(() => qs('#sm-first-name')?.focus(), 100);
    trapFocus(sheet, true);
  }

  function closeMobileSheet() {
    if (!sheet) return;
    sheet.setAttribute('aria-hidden', 'true');
    if (openMobile) openMobile.setAttribute('aria-expanded', 'false');
    document.body.style.overflow = '';
    trapFocus(sheet, false);
    if (openMobile) openMobile.focus();
  }

  openMobile?.addEventListener('click', (e) => { e.preventDefault(); openMobileSheet(); });
  closeMobile?.addEventListener('click', closeMobileSheet);
  sheet?.addEventListener('click', (e) => { if (e.target === sheet) closeMobileSheet(); });

  /* ===== Top CTA Routing (Submit Inquiry button) ===== */
  (function () {
    const cta = document.getElementById('ctaGetHelp');
    if (!cta) return;
    cta.addEventListener('click', (e) => {
      e.preventDefault();
      if (window.innerWidth <= 768) {
        openMobileSheet();            // Mobile → opens the intake sheet
      } else {
        window.location.href = 'contact.html'; // Desktop → contact page
      }
    });
  })();

  /* ===== Enhanced Form Submission ===== */
  async function submitIntake(form, statusEl, errorEl) {
    const submitButton = form.querySelector('button[type="submit"]');
    if (!validateForm(form)) {
      errorEl.textContent = 'Please correct the errors above';
      errorEl.classList.remove('hidden');
      statusEl.classList.add('hidden');
      return;
    }

    const data = Object.fromEntries(new FormData(form).entries());
    data.phone = trimLeadingOne(digitsOnly(data.phone || ''));

    setButtonLoading(submitButton, true);
    errorEl.classList.add('hidden');
    statusEl.textContent = 'Sending…';
    statusEl.classList.add('success-inline');
    statusEl.classList.remove('hidden');

    try {
      const response = await fetch(FLOW_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
        mode: 'cors'
      });

      const responseText = await response.clone().text();
      let responseData = null;
      try { responseData = JSON.parse(responseText); } catch (_) {}

      if (response.ok && responseData?.success) {
        statusEl.textContent = 'Thanks—check your email for a confirmation.';
        statusEl.classList.add('success-inline');
        form.reset();
        form.querySelectorAll('.form-field').forEach(f => f.classList.remove('valid', 'error'));
        if (form.id === 'intakeFormStickyMobile') setTimeout(closeMobileSheet, 2000);
      } else {
        throw new Error(responseData?.message || `Server error: ${response.status}`);
      }
    } catch (error) {
      console.error('Form submission error:', error);
      errorEl.textContent = error.message.includes('fetch') || error.message.includes('Network') 
        ? 'Network issue—please email chris@weldon.law or call (856) 890-2944.'
        : 'Sorry, something went wrong. Please email chris@weldon.law or call (856) 890-2944.';
      errorEl.classList.add('error-inline');
      statusEl.classList.remove('success-inline');
      errorEl.classList.remove('hidden');
      statusEl.classList.add('hidden');
    } finally {
      setButtonLoading(submitButton, false);
    }
  }

  /* ===== Initialize Forms ===== */
  function initializeIntakeForm(formId, statusId, errorId, phoneId) {
    const form = qs('#' + formId);
    if (!form) return;
    setupFormValidation(form);
    formatPhoneLive(qs('#' + phoneId));
    const statusEl = qs('#' + statusId);
    const errorEl = qs('#' + errorId);
    form.addEventListener('submit', (e) => { e.preventDefault(); submitIntake(form, statusEl, errorEl); });
  }

  initializeIntakeForm('intakeFormStickyMobile', 'sm-status', 'sm-error', 'sm-phone');
  initializeIntakeForm('intakeFormFooterDesktop', 'ft-status', 'ft-error', 'ft-phone');

  /* ===== Mobile Padding Adjustment ===== */
  function adjustBottomPaddingMobile() {
    const bar = document.querySelector('.intake-stick__mobilebar');
    if (!bar) return;
    const height = bar.getBoundingClientRect().height || 56;
    document.body.style.paddingBottom = (window.innerWidth <= 768) ? (height + 8) + 'px' : '';
  }
  window.addEventListener('resize', adjustBottomPaddingMobile);
  window.addEventListener('orientationchange', adjustBottomPaddingMobile);
  adjustBottomPaddingMobile();

  /* ===== Performance: Preload likely next pages ===== */
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() => {
      const link = document.createElement('link');
      link.rel = 'prefetch';
      link.href = 'about.html';
      document.head.appendChild(link);
    });
  }

  /* ===== Hero message rotator ===== */
(function () {
  const wrap = document.querySelector('.hero-rotator');
  if (!wrap) return;

  const h1 = wrap.querySelector('.hero-line');
  const p  = wrap.querySelector('.hero-sub');
  const tpl = document.getElementById('heroMessages');

  // Pull messages from <template> attributes
  const messages = Array.from(tpl.content.children).map(n => ({
    h1: n.getAttribute('data-h1') || '',
    sub: n.getAttribute('data-sub') || ''
  })).filter(m => m.h1);

  if (!messages.length) return;

  let i = 0, timer = null;
  const DURATION = 6500;     // 6.5s per slide
  const FADE_MS  = 450;      // matches CSS

  function render(idx, immediate=false) {
    const msg = messages[idx % messages.length];
    if (!msg) return;

    if (immediate) {
      h1.textContent = msg.h1;
      p.textContent  = msg.sub;
      return;
    }

    wrap.classList.add('is-fading');
    setTimeout(() => {
      h1.textContent = msg.h1;
      p.textContent  = msg.sub;
      wrap.classList.remove('is-fading');
    }, FADE_MS);
  }

  // First paint immediately for CLS/SEO
  render(i, true);

  // Respect reduced motion: don’t auto-rotate
  const prefersReduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (!prefersReduce && messages.length > 1) {
    timer = setInterval(() => { i = (i + 1) % messages.length; render(i); }, DURATION);
    // Pause on hover/focus for accessibility
    wrap.addEventListener('mouseenter', () => clearInterval(timer));
    wrap.addEventListener('mouseleave', () => {
      clearInterval(timer);
      timer = setInterval(() => { i = (i + 1) % messages.length; render(i); }, DURATION);
    });
  }
})();

  </script>
</body>
</html>
