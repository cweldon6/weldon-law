<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weldon Law, LLC | Guardianship, Estate & Elder Law in New Jersey</title>
  <meta name="description" content="Weldon Law, LLC provides experienced, compassionate counsel in guardianship, estate planning, probate, and long-term care planning throughout New Jersey." />
  <link rel="stylesheet" href="branded-styles.css" />
</head>
<body class="hero--copy">

  <!-- Top utility CTA bar (above the blue nav) -->
  <section class="top-cta" role="region" aria-label="Quick contact">
    <div class="container top-cta__inner">
      <div class="top-cta__prompt">
        <strong>Have a question?</strong> Start here and we’ll get back to you quickly.
      </div>
      <div class="top-cta__actions">
        <a href="#" id="ctaGetHelp" class="btn btn--outline" role="button">Get help now →</a>
        <a class="btn btn--phone" href="tel:+18568902944" aria-label="Call Weldon Law at (856) 890-2944">
          (856) 890-2944
        </a>
      </div>
    </div>
  </section>

  <!-- Main site header -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html">
          <img src="images/WeldonLawLogo.png" alt="Weldon Law, LLC logo" />
        </a>
      </div>
      <nav class="main-nav" id="nav">
        <button class="menu-toggle" aria-controls="primary-navigation" aria-expanded="false" aria-label="Toggle menu">&#9776;</button>
        <ul class="navbar" id="primary-navigation">
          <li><a href="index.html" aria-current="page">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li class="dropdown">
            <a href="#">Areas of Practice</a>
            <ul class="dropdown-content">
              <li><a href="practice-guardianships.html">Guardianships</a></li>
              <li><a href="practice-ltc.html">Long-Term Care Planning</a></li>
              <li><a href="practice-estate.html">Estate Planning</a></li>
              <li><a href="practice-probate.html">Probate</a></li>
            </ul>
          </li>
          <li><a href="news.html">News & Resources</a></li>
          <li><a href="contact.html">Contact</a></li>
          <!-- no header call-CTA per request -->
        </ul>
      </nav>
    </div>
  </header>

  <!-- Sticky Intake (mobile: bottom CTA + sheet) -->
  <section class="intake-stick" role="complementary" aria-label="Quick intake">
    <!-- Mobile bottom sticky CTA -->
    <div class="intake-stick__mobilebar" aria-hidden="false">
      <a href="#intakeSheet" class="intake-stick__cta" id="openIntakeMobile" role="button" aria-controls="intakeSheet" aria-expanded="false">
        Get help now →
      </a>
    </div>

    <!-- Mobile slide-up sheet -->
    <div class="intake-sheet" id="intakeSheet" aria-hidden="true" aria-modal="true" role="dialog" aria-label="Intake form">
      <div class="intake-sheet__panel" role="document">
        <button class="intake-sheet__close" id="closeIntakeMobile" aria-label="Close">✕</button>

        <h2>How can we help?</h2>
        <form id="intakeFormStickyMobile" novalidate>
          <input type="hidden" name="siteKey" value="WL5616!SecureKey" />
          <input type="text" name="company" class="visually-hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />

          <div class="intake-form__row intake-form__row--split">
            <div>
              <label for="sm-first-name">First name*</label>
              <input id="sm-first-name" name="first-name" autocomplete="given-name" required />
            </div>
            <div>
              <label for="sm-last-name">Last name*</label>
              <input id="sm-last-name" name="last-name" autocomplete="family-name" required />
            </div>
          </div>

          <label for="sm-email">Email*</label>
          <input id="sm-email" name="email" type="email" autocomplete="email" required />

          <label for="sm-phone">Phone</label>
          <input id="sm-phone" name="phone" type="tel" inputmode="tel" autocomplete="tel-national" />

          <label for="sm-interest">Type of matter</label>
          <select id="sm-interest" name="interest">
            <option value="">-- Please Select --</option>
            <option value="guardianship">Guardianship</option>
            <option value="ltc">Long-Term Care Planning</option>
            <option value="estate">Estate Planning</option>
            <option value="probate">Probate</option>
            <option value="other">Other</option>
          </select>

          <label for="sm-message">Brief summary</label>
          <textarea id="sm-message" name="message" rows="5" placeholder="Please describe your situation briefly..."></textarea>

          <button type="submit">Submit</button>
          <div class="small-subtext">We’ll reply promptly. No obligation.</div>
          <div class="intake-form__meta">
            <a href="/privacy.html">Privacy + terms</a>
            <span class="form-help">Submitting this form does not create an attorney–client relationship. Please avoid confidential details.</span>
          </div>
          <div id="sm-status" class="success-inline hidden" role="status" aria-live="polite"></div>
          <div id="sm-error" class="error-inline hidden" role="alert"></div>
        </form>
      </div>
    </div>
  </section>

  <main>
    <!-- HERO / INTRO -->
    <section class="intro-banner">
      <div class="container">
        <h1>Compassionate, precise elder law counsel—rooted in your community</h1>
        <p>Weldon Law, LLC offers experienced guidance in guardianship, estate planning, probate, and long‑term care planning throughout New Jersey. Every matter is approached with the care it deserves, regardless of asset level or complexity.</p>
      </div>
    </section>

    <!-- TRUST / QUICK FACTS -->
    <section class="container" style="padding: var(--space-6) 0;">
      <div class="info-grid" style="padding: 0;">
        <div>
          <h2>Why families choose Weldon Law</h2>
          <ul class="services-list">
            <li><strong>1,000+ guardianship/fiduciary matters</strong> handled across NJ courts</li>
            <li><strong>Transparent process</strong> and timely communication</li>
            <li><strong>Neighborly, steady counsel</strong> when decisions feel overwhelming</li>
          </ul>
        </div>
        <div>
          <h2>How we work</h2>
          <ol class="services-list">
            <li><strong>Start here:</strong> Send a short intake (mobile sheet or “Get help now →”)</li>
            <li><strong>We respond quickly</strong> with next steps and a short call</li>
            <li><strong>Clear plan</strong> for your matter and timelines</li>
          </ol>
        </div>
      </div>
    </section>

    <!-- PRACTICE AREAS -->
    <section class="container" style="padding: var(--space-6) 0;">
      <h2>Areas of Practice</h2>
      <div class="info-grid" style="grid-template-columns: repeat(2,minmax(0,1fr));">
        <div><h3><a href="practice-guardianships.html">Guardianships</a></h3><p>Establishing and administering guardianships with diligence and care.</p></div>
        <div><h3><a href="practice-ltc.html">Long‑Term Care Planning</a></h3><p>Protecting assets while aligning care needs and benefits.</p></div>
        <div><h3><a href="practice-estate.html">Estate Planning</a></h3><p>Wills, powers of attorney, and tailored planning for your family.</p></div>
        <div><h3><a href="practice-probate.html">Probate</a></h3><p>Guidance through estate administration and court procedures.</p></div>
      </div>
    </section>

    <!-- SHORT BIO / RESOURCES -->
    <section class="info-grid container">
      <div class="about-snippet">
        <img src="profile-placeholder.jpg" alt="Portrait of Christopher R. Weldon, Esq." class="bio-image" />
        <p>Christopher R. Weldon, Esquire is a lifelong Camden County resident and former State Regulatory Attorney. He has served in more than 1,000 guardianship and fiduciary matters. <a href="about.html">Learn more →</a></p>
      </div>
      <div class="firm-services">
        <h2>Resources</h2>
        <ul class="services-list">
          <li><a href="news.html">News &amp; Guides</a></li>
          <li><a href="contact.html">Office &amp; Hours</a></li>
        </ul>
      </div>
    </section>

    <!-- FAQ -->
    <section class="container" style="padding: var(--space-6) 0%;">
      <h2>Frequently Asked Questions</h2>
      <details><summary>Do I need an attorney for a guardianship?</summary><p>It depends. The process involves court filings, medical certifications, and hearings. We’ll map the steps and timeline for you.</p></details>
      <details><summary>How fast can we start?</summary><p>After you send the intake, we typically respond the same day or next business day with next steps.</p></details>
      <details><summary>Is the first message confidential?</summary><p>Submitting the form does not create an attorney–client relationship. Please avoid sharing sensitive details initially; we’ll advise what’s needed.</p></details>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 Weldon Law, LLC. All rights reserved.</p>
    </div>
  </footer>

  <!-- Desktop Fixed Footer Intake (desktop only) -->
  <section class="intake-footer" role="complementary" aria-label="Quick intake footer">
    <form id="intakeFormFooterDesktop" class="intake-footer__form" novalidate>
      <input type="hidden" name="siteKey" value="WL5616!SecureKey" />
      <input type="text" name="company" class="visually-hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />

      <div class="intake-footer__row">
        <label class="vf">
          <span class="vh">Last name</span>
          <input id="ft-last-name" name="last-name" placeholder="Last name" required />
        </label>
        <label class="vf">
          <span class="vh">First name</span>
          <input id="ft-first-name" name="first-name" placeholder="First name" required />
        </label>
        <label class="vf">
          <span class="vh">Email</span>
          <input id="ft-email" name="email" type="email" placeholder="Email" required />
        </label>
        <label class="vf">
          <span class="vh">Phone</span>
          <input id="ft-phone" name="phone" type="tel" inputmode="tel" placeholder="Phone" />
        </label>
        <label class="vf">
          <span class="vh">Type of matter</span>
          <select id="ft-interest" name="interest" aria-label="Type of matter">
            <option value="">Matter type</option>
            <option value="guardianship">Guardianship</option>
            <option value="ltc">Long-Term Care Planning</option>
            <option value="estate">Estate Planning</option>
            <option value="probate">Probate</option>
            <option value="other">Other</option>
          </select>
        </label>

        <button type="submit" class="intake-footer__submit" aria-label="Submit intake">Submit</button>
      </div>

      <div id="intakeFooterPanel" class="intake-footer__statusline" aria-live="polite">
        <span id="ft-status" class="success-inline hidden"></span>
        <span id="ft-error" class="error-inline hidden" role="alert"></span>
        <span class="small-subtext">We’ll reply promptly. No obligation.</span>
      </div>
    </form>
  </section>

  <!-- Unified script -->
  <script>
  /* ===== Config ===== */
  const FLOW_URL = "https://prod-121.westus.logic.azure.com:443/workflows/2fd109379c324cd5bbab1546b34dca3c/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=GH5F3oVR83EzQ2fzn0l0yUzqs9bmVpHFZP0D0lJgBV8";

  /* ===== Menu toggle ===== */
  (function(){
    const toggle = document.querySelector('.menu-toggle');
    const navList = document.getElementById('primary-navigation');
    if (toggle && navList) {
      toggle.addEventListener('click', () => {
        navList.classList.toggle('open');
        toggle.setAttribute('aria-expanded', navList.classList.contains('open'));
      });
    }
  })();

  /* ===== Utilities ===== */
  const qs = (s, r=document) => r.querySelector(s);
  function digitsOnly(s) { return (s || '').replace(/[^\d]/g, ''); }
  function trimLeadingOne(d) { return (d.length === 11 && d.startsWith('1')) ? d.slice(1) : d; }
  function formatPhoneLive(el) {
    if (!el) return;
    el.addEventListener('input', () => {
      let d = trimLeadingOne(digitsOnly(el.value));
      if (!d) { el.value = ''; return; }
      if (d.length <= 3) el.value = `(${d}`;
      else if (d.length <= 6) el.value = `(${d.slice(0,3)}) ${d.slice(3)}`;
      else el.value = `(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6,10)}`;
    });
  }

  /* ===== Accessibility helpers ===== */
  function trapFocus(container, enabled) {
    if (!container) return;
    const focusable = () => container.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])');
    function onKey(e) {
      if (!enabled) return;
      if (e.key === 'Escape') { closeMobileSheet(); return; }
      if (e.key !== 'Tab') return;
      const nodes = Array.from(focusable()).filter(n => !n.disabled && n.offsetParent !== null);
      if (nodes.length === 0) return;
      const first = nodes[0], last = nodes[nodes.length-1];
      if (e.shiftKey && document.activeElement === first) { last.focus(); e.preventDefault(); }
      else if (!e.shiftKey && document.activeElement === last) { first.focus(); e.preventDefault(); }
    }
    container.__trapHandler && document.removeEventListener('keydown', container.__trapHandler);
    container.__trapHandler = onKey;
    document.addEventListener('keydown', onKey);
  }

  /* ===== Mobile sheet behavior ===== */
  const sheet = qs('#intakeSheet');
  const openMobile = qs('#openIntakeMobile');
  const closeMobile = qs('#closeIntakeMobile');

  function openMobileSheet() {
    sheet.setAttribute('aria-hidden', 'false');
    openMobile.setAttribute('aria-expanded', 'true');
    setTimeout(() => qs('#sm-first-name')?.focus(), 0);
    trapFocus(sheet, true);
  }
  function closeMobileSheet() {
    sheet.setAttribute('aria-hidden', 'true');
    openMobile.setAttribute('aria-expanded', 'false');
    trapFocus(sheet, false);
    openMobile.focus();
  }
  openMobile?.addEventListener('click', (e) => { e.preventDefault(); openMobileSheet(); });
  closeMobile?.addEventListener('click', closeMobileSheet);
  sheet?.addEventListener('click', (e) => { if (e.target === sheet) closeMobileSheet(); });

  /* ===== Top CTA: route to correct intake ===== */
  (function () {
    const cta = document.getElementById('ctaGetHelp');
    if (!cta) return;

    function focusFooterFirstField() {
      const first = document.querySelector('#ft-last-name, #ft-first-name, #ft-email');
      first?.focus({ preventScroll: true });
    }

    cta.addEventListener('click', (e) => {
      e.preventDefault();
      if (window.innerWidth <= 768) {
        openMobileSheet();
      } else {
        // Desktop: scroll to the fixed footer intake and focus
        const footer = document.querySelector('.intake-footer');
        if (footer) {
          footer.scrollIntoView({ behavior: 'smooth', block: 'end' });
          setTimeout(focusFooterFirstField, 350);
        }
      }
    });
  })();

  /* ===== Validation helpers ===== */
  function validateRequired(form) {
    const required = form.querySelectorAll('[required]');
    let ok = true;
    required.forEach(f => {
      if (!f.value.trim()) { ok = false; f.setAttribute('aria-invalid', 'true'); }
      else f.removeAttribute('aria-invalid');
    });
    return ok;
  }
  function attachBlurValidation(form) {
    form.querySelectorAll('[required]').forEach(f => {
      f.addEventListener('blur', () => {
        if (!f.value.trim()) f.setAttribute('aria-invalid', 'true');
        else f.removeAttribute('aria-invalid');
      });
    });
  }

  /* ===== Submit handler (shared) ===== */
  async function submitIntake(form, statusEl, errorEl) {
    const data = Object.fromEntries(new FormData(form).entries());
    data.phone = trimLeadingOne(digitsOnly(data.phone || ''));

    if (!validateRequired(form)) {
      errorEl.textContent = 'Please fill in the required fields.';
      errorEl.classList.remove('hidden');
      statusEl.classList.add('hidden');
      return;
    }

    errorEl.classList.add('hidden');
    statusEl.textContent = 'Sending…';
    statusEl.classList.add('success-inline');
    statusEl.classList.remove('hidden');

    try {
      const res = await fetch(FLOW_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
        mode: 'cors'
      });
      const raw = await res.clone().text();
      let payload = null; try { payload = JSON.parse(raw); } catch {}

      if (res.ok && payload?.success) {
        statusEl.textContent = 'Thanks—check your email for a confirmation.';
        statusEl.classList.add('success-inline');
        errorEl.classList.remove('error-inline');
        form.reset();
      } else {
        errorEl.textContent = payload?.message || 'Sorry, something went wrong. Please email chris@weldon.law or call (856) 890-2944.';
        errorEl.classList.add('error-inline');
        statusEl.classList.remove('success-inline');
        errorEl.classList.remove('hidden');
        statusEl.classList.add('hidden');
      }
    } catch {
      errorEl.textContent = 'Network issue—please email chris@weldon.law or call (856) 890-2944.';
      errorEl.classList.remove('hidden');
      statusEl.classList.add('hidden');
    }
  }

  /* ===== Wire up forms + phone formatting ===== */
  function readyIntakeForm(formId, statusId, errorId, phoneId) {
    const form = qs('#' + formId); if (!form) return;
    attachBlurValidation(form);
    formatPhoneLive(qs('#' + phoneId));
    const statusEl = qs('#' + statusId), errorEl = qs('#' + errorId);
    form.addEventListener('submit', (e) => { e.preventDefault(); submitIntake(form, statusEl, errorEl); });
  }

  // Mobile sheet form
  readyIntakeForm('intakeFormStickyMobile', 'sm-status', 'sm-error', 'sm-phone');
  // Desktop footer quick intake
  readyIntakeForm('intakeFormFooterDesktop', 'ft-status', 'ft-error', 'ft-phone');

  /* ===== Prevent mobile bar blocking call targets ===== */
  function adjustBottomPaddingMobile() {
    const bar = document.querySelector('.intake-stick__mobilebar');
    if (!bar) return;
    const h = bar.getBoundingClientRect().height || 56;
    document.body.style.paddingBottom = (window.innerWidth <= 768) ? (h + 8) + 'px' : '';
  }
  window.addEventListener('resize', adjustBottomPaddingMobile);
  window.addEventListener('orientationchange', adjustBottomPaddingMobile);
  adjustBottomPaddingMobile();
  </script>
</body>
</html>
