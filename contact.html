<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Weldon Law, LLC | Schedule a Consultation</title>
  <meta name="description" content="Get in touch with Weldon Law, LLC to discuss guardianship, estate planning, probate, and long-term care planning matters in New Jersey." />
  <link rel="stylesheet" href="branded-styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html">
          <img src="images/WeldonLawLogo.png" alt="Weldon Law, LLC logo" />
        </a>
      </div>
      <nav class="main-nav" id="nav">
        <button class="menu-toggle" aria-controls="primary-navigation" aria-expanded="false" aria-label="Toggle menu">&#9776;</button>
        <ul class="navbar" id="primary-navigation">
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li class="dropdown">
            <a href="#">Areas of Practice</a>
            <ul class="dropdown-content">
              <li><a href="practice-guardianships.html">Guardianships</a></li>
              <li><a href="practice-ltc.html">Long-Term Care Planning</a></li>
              <li><a href="practice-estate.html">Estate Planning</a></li>
              <li><a href="practice-probate.html">Probate</a></li>
            </ul>
          </li>
          <li><a href="news.html">News & Resources</a></li>
          <li><a href="contact.html" aria-current="page">Contact</a></li>
          <li class="nav-cta"><a class="button" href="tel:+18568902944">Call Now</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="landing">
    <div class="container landing-layout">
      <section class="intro-text">
        <h1>Contact Weldon Law</h1>
        <p class="subtitle">Serving Voorhees, NJ and surrounding communities</p>
        <p class="tagline">Providing strategic legal guidance in guardianship, long-term care planning, estate planning, and probate matters.</p>
        <p><strong>Email:</strong> <a href="mailto:chris@weldon.law">chris@weldon.law</a></p>
        <p><strong>Phone:</strong> <a href="tel:+18568902944">(856) 890-2944</a></p>
      </section>

      <aside class="form-section">
        <h2>Send a Message</h2>

        <div class="cta-row">
          <a class="button" href="tel:+18568902944">Call Now</a>
        </div>

        <form id="intakeFormContact" novalidate>
          <input type="hidden" name="siteKey" value="WL5616!SecureKey" />
          <input type="text" name="company" style="position:absolute;left:-9999px" tabindex="-1" autocomplete="off" />

          <div class="form-row">
            <div>
              <label for="first-name">First Name</label>
              <input type="text" id="first-name" name="first-name" autocomplete="given-name" required>
            </div>
            <div>
              <label for="last-name">Last Name</label>
              <input type="text" id="last-name" name="last-name" autocomplete="family-name" required>
            </div>
          </div>

          <label for="email">Email</label>
          <input type="email" id="email" name="email" autocomplete="email" required>

          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone" inputmode="tel" autocomplete="tel-national">

          <label for="interest">Type of Matter</label>
          <select id="interest" name="interest">
            <option value="">-- Please Select --</option>
            <option value="guardianship">Guardianship</option>
            <option value="ltc">Long-Term Care Planning</option>
            <option value="estate">Estate Planning</option>
            <option value="probate">Probate</option>
            <option value="other">Other</option>
          </select>

          <label for="message">Brief Summary</label>
          <textarea id="message" name="message" rows="5" placeholder="Please describe your situation briefly..."></textarea>

          <button type="submit">Submit</button>
        </form>
      </aside>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 Weldon Law, LLC. All rights reserved.</p>
    </div>
  </footer>

  <script>
    const FLOW_URL = "https://prod-121.westus.logic.azure.com:443/workflows/2fd109379c324cd5bbab1546b34dca3c/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=GH5F3oVR83EzQ2fzn0l0yUzqs9bmVpHFZP0D0lJgBV8";

    function digitsOnly(s) { return (s || '').replace(/[^\d]/g, ''); }
    function trimLeadingOne(d) { return (d.length === 11 && d.startsWith('1')) ? d.slice(1) : d; }

    document.getElementById('intakeFormContact').addEventListener('submit', async function(e){
      e.preventDefault();
      const form = e.target;
      const data = Object.fromEntries(new FormData(form).entries());
      data.phone = trimLeadingOne(digitsOnly(data.phone || ''));

      try {
        const res = await fetch(FLOW_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data),
          mode: 'cors'
        });
        const raw = await res.clone().text();
        console.debug('Flow status:', res.status, raw);
        let payload = null;
        try { payload = JSON.parse(raw); } catch {}
        if (res.ok && payload?.success) {
          alert('Thanks—your message was sent. Check your email for a confirmation.');
          form.reset();
        } else {
          alert(payload?.message || 'Sorry, something went wrong. Please email chris@weldon.law or call (856) 890-2944.');
        }
      } catch {
        alert('Network issue—please email chris@weldon.law or call (856) 890-2944.');
      }
    });
  </script>
</body>
</html>
