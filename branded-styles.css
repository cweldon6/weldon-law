/* =========================================
   Weldon Law – Brand System & Layout
   ========================================= */
:root {
  --color-primary: #2c3539;
  --color-accent:  #C9A13B;
  --color-ink:     #1F2937;
  --color-ink-strong:#0B1220;
  --color-bg:      #FFFFFF;
  --color-bg-soft: #F7F7F5;
  --color-border:  #C9A13B;
  --color-focus:   #133978;

  --brand-blue: var(--color-primary);
  --brand-gold: var(--color-accent);
  --light-gray: var(--color-bg-soft);
  --text-gray:  var(--color-ink);

  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --font-serif: "Source Serif 4", Georgia, Cambria, "Times New Roman", Times, serif;

  --fs-300: 0.875rem;
  --fs-400: 1rem;
  --fs-500: 1.125rem;
  --fs-600: clamp(1.125rem, 1rem + 1vw, 1.375rem);
  --fs-700: clamp(1.375rem, 1.15rem + 1.6vw, 1.75rem);
  --fs-800: clamp(1.625rem, 1.2rem + 2.6vw, 2.25rem);

  --lh-tight: 1.25;
  --lh-normal: 1.6;

  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;
  --space-7: 3rem;
  --space-8: 4rem;

  --radius-sm: 6px;
  --radius-md: 12px;
  --shadow-1: 0 1px 3px rgba(0,0,0,.08), 0 4px 12px rgba(0,0,0,.06);

  /* Layout */
  --max-width: 72rem;      /* ~1152px default */
  --measure: 65ch;         /* ideal reading width */

  /* Wide optional containers */
  --max-width-xl: 90rem;   /* ~1440px */
  --max-width-xxl: 100rem; /* ~1600px */
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  color: var(--color-ink);
  background: var(--color-bg);
  font-family: var(--font-sans);
  line-height: var(--lh-normal);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
a { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Containers: consistent gutters everywhere */
.container {
  width: min(90%, var(--max-width));
  margin-inline: auto;
}

/* Header & Navigation */
.site-header {
  position: sticky; top: 0; z-index: 1000;
  background: var(--color-primary);
  color: #fff;
  padding: var(--space-3) 0;
}
.logo img { max-height: 64px; height: auto; width: auto; }
.nav-container { display: flex; justify-content: space-between; align-items: center; }
.navbar { list-style: none; display: flex; flex-wrap: wrap; gap: 1.25rem; margin: 0; padding: 0; }
.navbar a { color: #fff; font-weight: 600; }
.navbar li { position: relative; }
.menu-toggle { background: transparent; color: #fff; border: 0; font-size: 1.5rem; display: none; }

/* Dropdown */
.dropdown-content {
  display: none; position: absolute; top: 2rem; left: 0; background-color: #fff;
  color: var(--color-ink); min-width: 220px; border: 1px solid var(--color-border);
  box-shadow: var(--shadow-1); z-index: 10; border-radius: var(--radius-sm);
}
.dropdown-content a { display: block; padding: 0.5rem 1rem; color: var(--color-ink); }
.dropdown:hover .dropdown-content { display: block; }
.dropdown:focus-within .dropdown-content,
.dropdown:focus-within > a + .dropdown-content { display: block; }
.dropdown > a:focus-visible { outline: 3px solid var(--color-focus); outline-offset: 2px; border-radius: 4px; }

/* Top CTA */
.top-cta {
  background: #f6f8fb;
  border-bottom: 1px solid rgba(0,0,0,.06);
  font-size: .975rem;
}
.top-cta__inner {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: .75rem 1rem;
  align-items: center;
  padding: .5rem 0;
}
.top-cta__prompt { color: #1f2937; }
.top-cta__actions { display: flex; align-items: center; gap: .5rem; }
.btn { display:inline-block; border-radius: 999px; padding:.5rem 1rem; text-decoration:none; font-weight:600; line-height:1; }
.btn--outline { border:1px solid #1f3a63; color:#1f3a63; background:transparent; }
.btn--outline:hover { background: rgba(31,58,99,.06); }
.btn--phone { background:#b98d14; color:#fff; border:0; }
.btn--phone:hover { background:#9e7c12; }
@media (max-width: 768px) {
  .top-cta__inner { grid-template-columns: 1fr; text-align:center; }
  .top-cta__actions { justify-content: center; flex-wrap: wrap; }
}

/* Mobile nav */
@media (max-width: 768px) {
  .menu-toggle { display: inline-block; }
  .navbar { display: none; flex-direction: column; gap: 0.75rem; }
  .navbar.open { display: flex; }
}

/* Buttons */
.button {
  display: inline-block;
  padding: 0.6rem 1rem;
  border-radius: var(--radius-sm);
  font-weight: 700;
  text-decoration: none;
  background: var(--color-accent);
  color: var(--color-ink-strong);
  border: 1px solid transparent;
  box-shadow: var(--shadow-1);
  min-height: 44px;
}
.button:hover { filter: brightness(0.95); text-decoration: none; }

/* =========================
   Intro / Homepage
   ========================= */
.intro-banner {
  background: var(--color-bg-soft);
  padding: var(--space-6) 0;
  position: relative;
}

/* Keep hero text readable but align gutters with the rest */
.intro-banner h1,
.intro-banner p {
  max-width: var(--measure);
}
.intro-banner p { margin-bottom: 1rem; }

h1 { font-family: var(--font-serif); font-size: var(--fs-700); line-height: var(--lh-tight); color: var(--color-ink-strong); margin: 0 0 var(--space-3); }
h2 { font-family: var(--font-serif); font-size: var(--fs-600); line-height: var(--lh-tight); margin: 0 0 var(--space-3); }
h3 { font-size: var(--fs-600); line-height: var(--lh-tight); margin: 0 0 var(--space-2); }
.subtitle, .tagline { font-size: var(--fs-500); }

/* Two Column Section */
.info-grid { display: grid; gap: var(--space-6); padding: var(--space-2) 0; }
@media (min-width: 900px) {
  .info-grid { grid-template-columns: 1fr 0.8fr; align-items: start; }
}

/* Bio */
.about-snippet p { max-width: var(--measure); }
.bio-section .about-snippet, .bio-section .about-snippet p { max-width: none; }
.bio-section { overflow: hidden; }
.bio-image {
  float: right;
  width: 360px; height: 360px;
  margin: 0 var(--space-4) var(--space-4) 0;
  border-radius: var(--radius-sm);
  object-fit: cover;
  display: none;
}
@media (min-width: 768px) { .bio-image { display: block; } }

/* =========================
   Practice Areas – 6 tiles
   ========================= */
.practice-areas {
  display: grid;
  gap: var(--space-5);
  grid-template-columns: 1fr;                 /* mobile */
}
@media (min-width: 640px) { .practice-areas { grid-template-columns: repeat(2, 1fr); } }  /* tablet */
@media (min-width: 1024px) { .practice-areas { grid-template-columns: repeat(3, 1fr); } } /* desktop */

.practice-area {
  position: relative;
  padding: var(--space-5) var(--space-4);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: var(--color-bg);
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  overflow: hidden;
}
.practice-area::before {
  content: "";
  position: absolute; inset: 0;
  background: var(--pa-bg) center/cover no-repeat;
  opacity: 0.08;
  transition: opacity .2s ease;
  pointer-events: none;
}
.practice-area:hover::before,
.practice-area:focus-within::before { opacity: 0.16; }
.practice-area:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-1);
  transform: translateY(-2px);
}
.practice-area h3 { margin-top: 0; position: relative; z-index: 1; }
.practice-area h3 a { color: var(--color-primary); text-decoration: none; font-weight: 700; }
.practice-area h3 a:hover { text-decoration: underline; }
.practice-area p {
  margin: .5rem 0 0;
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height .25s ease, opacity .25s ease;
}
.practice-area:hover p,
.practice-area:focus-within p { max-height: 10rem; opacity: 1; }

/* Lists / FAQ */
.firm-services h2 { margin-top: 0; }
.services-list { list-style: none; padding: 0; margin: 0; }
.services-list li { margin-bottom: .5rem; }
.services-list a { font-weight: 600; color: var(--color-primary); }
.services-list a:hover { text-decoration: underline; }
.dropdown-content a + a { border-top: 1px solid var(--color-border); }

.faq-content .faq-list { display: grid; gap: var(--space-3); }
.faq-content details {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  padding: var(--space-4);
  background: var(--color-bg);
  transition: box-shadow 0.2s ease, border-color .2s ease;
}
.faq-content details:hover { box-shadow: var(--shadow-1); }
.faq-content details[open] { border-color: var(--color-primary); }
.faq-content summary {
  font-weight: 600; cursor: pointer; color: var(--color-primary);
  list-style: none; position: relative; padding-right: 2rem;
}
.faq-content summary::-webkit-details-marker { display: none; }
.faq-content summary::after { content: "+"; position: absolute; right: 0; font-size: 1.2em; font-weight: bold; }
.faq-content details[open] summary::after { content: "−"; }
.faq-content summary:hover { color: #0f2854; }
.faq-content details p { margin: var(--space-3) 0 0; color: var(--color-ink); }

/* Forms */
form { display: grid; gap: 0.75rem; }
.form-row { display: grid; gap: 0.75rem; }
@media (min-width: 600px) { .form-row { grid-template-columns: 1fr 1fr; } }
.form-field { position: relative; margin-bottom: var(--space-2); }
.form-field label { display: block; font-weight: 600; margin-bottom: var(--space-1); color: var(--color-ink-strong); }
.field-error { font-size: var(--fs-300); color: #dc2626; margin-top: var(--space-1); min-height: 1.2em; }

input, select, textarea {
  padding: 0.6rem; font-size: var(--fs-400);
  border: 1px solid #c8ced6; border-radius: 6px; width: 100%;
  background: #fff;
}
textarea { resize: vertical; }
button[type="submit"] {
  padding: 0.75rem 1rem; background: var(--color-primary); color: #fff;
  font-size: var(--fs-400); font-weight: 700; border: none; border-radius: 6px; cursor: pointer;
  min-height: 44px;
}
button[type="submit"]:hover { filter: brightness(1.05); }
input:focus, select:focus, textarea:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary) 25%, transparent); }
.is-error { border-color: #b42318 !important; }
.form-help { font-size: var(--fs-300); color: #444; }
.form-error { font-size: var(--fs-300); color: #b42318; }

/* Footer */
.site-footer { background: #111; color: #fff; text-align: center; padding: var(--space-4) 0; font-size: var(--fs-300); }

/* Hero variant bg */
.hero--copy .intro-banner { background: var(--color-bg-soft); }

/* ================ Sticky Intake ================ */
/* Mobile */
.intake-stick__mobilebar {
  position: fixed; inset-inline: 0; bottom: 0; z-index: 1100;
  background: #ffffffF2; backdrop-filter: saturate(120%) blur(6px);
  border-top: 1px solid var(--color-border);
  display: flex; align-items: center; justify-content: center;
  min-height: 56px; padding: 0.5rem 1rem calc(0.5rem + env(safe-area-inset-bottom));
}
.intake-stick__cta {
  display: inline-flex; align-items: center; gap: .5rem;
  font-weight: 700; border: 1px solid var(--color-primary);
  background: var(--color-accent); color: var(--color-ink-strong);
  padding: .6rem 1rem; border-radius: 999px; text-decoration: none;
  min-height: 44px;
}
.intake-stick__cta:focus-visible { outline: 3px solid var(--color-focus); }
.intake-sheet { position: fixed; inset: 0; z-index: 1200; display: none; background: #00000066; }
.intake-sheet[aria-hidden="false"] { display: block; }
.intake-sheet__panel {
  position: absolute; left: 0; right: 0; bottom: 0;
  background: #630303; border-top-left-radius: var(--radius-md); border-top-right-radius: var(--radius-md);
  box-shadow: var(--shadow-1); padding: var(--space-5);
  max-height: 85vh; overflow: auto;
}
.intake-sheet__close {
  position: absolute; right: 1rem; top: .75rem; background: transparent; border: 0; font-size: 1.25rem;
  width: 44px; height: 44px; line-height: 44px; text-align: center; border-radius: 6px;
}

/* Hide desktop intake on mobile */
@media (max-width: 768px) {
  .intake-bar, .intake-panel, #intakePanel { display: none !important; }
}

/* Desktop fixed footer intake */
.intake-footer { display: none; }
@media (min-width: 1024px) {
  .intake-footer {
    display: block;
    position: fixed; bottom: 0; left: 0; right: 0;
    background: var(--color-primary); color: #fff;
    box-shadow: 0 -2px 6px rgba(0,0,0,0.2); z-index: 9999; padding: 0.5rem 1rem;
  }
  .intake-footer__row, .intake-footer__form {
    display: flex; flex-wrap: nowrap; align-items: center; gap: 0.5rem;
    max-width: var(--max-width); margin: 0 auto;
  }
  .intake-footer__form input, .intake-footer__form select {
    padding: 0.5rem 0.6rem; border: 1px solid #c8ced6; border-radius: 6px;
    flex: 1 1 140px; min-width: 140px;
  }
  .intake-footer__submit {
    background: var(--color-accent); color: var(--color-ink-strong);
    font-weight: 700; padding: 0.55rem 1rem; border: none; border-radius: 8px; cursor: pointer; flex: 0 0 auto; min-height: 44px;
  }
  body { padding-bottom: 86px; } /* ensure content not hidden by sticky footer */
}

/* Helpers */
.hidden { display: none !important; }
.visually-hidden { position: absolute !important; clip: rect(1px,1px,1px,1px); clip-path: inset(50%); width: 1px; height: 1px; overflow: hidden; white-space: nowrap; }
.vh { position: absolute !important; clip: rect(1px,1px,1px,1px); clip-path: inset(50%); width:1px; height:1px; overflow:hidden; white-space:nowrap; }
.vf { display: contents; }

.small-subtext { font-size: var(--fs-300); color: #444; margin-top: .25rem; }
.success-inline { margin-top: .5rem; color: #0a5c22; background: #e8f5e9; border: 1px solid #c9e7cd; padding: .5rem .75rem; border-radius: 6px; font-size: var(--fs-400); }
.error-inline { margin-top: .5rem; color: #b42318; background: #fdecea; border: 1px solid #f5c6c2; padding: .5rem .75rem; border-radius: 6px; font-size: var(--fs-400); }

/* Anchor offsets for sticky header */
:where(h1, h2, h3, [id]) { scroll-margin-top: 80px; }

/* Print */
@media print {
  body { color: #000; background: #fff; }
  .site-header, .site-footer, .intake-stick__mobilebar, .intake-bar, .top-cta, .intake-footer { display: none !important; }
  a { color: #000; text-decoration: underline; }
  input, select, textarea { border: 1px solid #000; }
}

/* === Wide-screen polish === */
/* Gentle global bump for ultra-wide, keeping gutters equal */
@media (min-width: 1600px) {
  .container { width: min(88%, 78rem); }  /* slightly wider but still centered */
}
